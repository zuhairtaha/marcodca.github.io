{"version":3,"sources":["../../src/controllers/jsonHandlers.js"],"names":["getJSON","updateJSON","url","prom","Promise","resolve","reject","error","response","body","final","JSON","parse","update","send","data","headers","uri","method","json","console","log"],"mappings":";;;;;QAKsBA,O,GAAAA,O;QAUNC,U,GAAAA,U;;AAdhB;;;;;;AAEA,MAAMC,MAAM,kDAAZ;;AAEO,eAAeF,OAAf,GAAyB;AAC5B,UAAMG,OAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC1C,+BAAQJ,MAAM,SAAd,EAAyB,UAAUK,KAAV,EAAiBC,QAAjB,EAA2BC,IAA3B,EAAiC;AACtDJ,oBAAQI,IAAR;AACH,SAFD;AAGH,KAJY,CAAb;AAKA,UAAMC,QAAQ,MAAMP,IAApB;AACA,WAAOQ,KAAKC,KAAL,CAAWF,KAAX,CAAP;AACH;;AAEM,SAAST,UAAT,CAAoBY,MAApB,EAA4B;AAC/B,UAAMC,OAAO,EAACC,MAAM,CAAC,GAAGF,MAAJ,CAAP,EAAb;AACA,2BAAQ;AACJG,iBAAS;AACL,4BAAgB,kBADX;AAEL,0BAAc;AAFT,SADL;AAKJC,aAAKf,GALD;AAMJgB,gBAAQ,KANJ;AAOJC,cAAML;AAPF,KAAR,EAQG,UAAUP,KAAV,EAAiBC,QAAjB,EAA2BC,IAA3B,EAAiC;AAChC,YAAIF,KAAJ,EAAWa,QAAQC,GAAR,CAAYd,KAAZ;AACXa,gBAAQC,GAAR,CAAYZ,IAAZ;AACH,KAXD;AAaH","file":"jsonHandlers.js","sourcesContent":["\r\nimport request from 'request';\r\n\r\nconst url = 'http://api.jsonbin.io/b/5bacd7188713b17b52b01398';\r\n\r\nexport async function getJSON() {\r\n    const prom = new Promise((resolve, reject) => {\r\n        request(url + \"/latest\", function (error, response, body) {\r\n            resolve(body);\r\n        });\r\n    })\r\n    const final = await prom;\r\n    return JSON.parse(final)\r\n}\r\n\r\nexport function updateJSON(update) {\r\n    const send = {data: [...update]}\r\n    request({\r\n        headers: {\r\n            \"Content-type\": \"application/json\",\r\n            \"versioning\": false\r\n        },\r\n        uri: url,\r\n        method: \"PUT\",\r\n        json: send\r\n    }, function (error, response, body) {\r\n        if (error) console.log(error);\r\n        console.log(body);\r\n    });\r\n    \r\n}\r\n\r\n\r\n"]}